{% extends "base.html" %}

{% block title %}Prediction History - NIDS{% endblock %}

{% block content %}
<div class="page-header">
    <h1>Prediction History</h1>
    <p>Track your previous predictions and export your data.</p>
</div>

<div class="history-section">
    {% if predictions %}
        <h2>Your Recent Predictions</h2>
        <div class="mb-3">
            <a href="{{ url_for('history.download_history') }}" class="btn btn-outline-primary" style="box-shadow: none;">Download All History</a>
        </div>
        <table class="table table-striped">
            <thead>
                <tr>
                    <th>Date & Time</th>
                    <th>Prediction</th>
                    <th>Confidence</th>
                    <th>Model Used</th>
                </tr>
            </thead>
            <tbody>
                {% for prediction in predictions %}
                <tr>
                    <td>{{ prediction.timestamp }}</td>
                    <td>{{ prediction.prediction }}</td>
                    <td>{{ prediction.confidence }}%</td>
                    <td>{{ prediction.model_used }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    {% else %}
        <p>You haven't made any predictions yet. Start by making your first prediction on the <a href="{{ url_for('predict_view') }}">Predict</a> page.</p>
    {% endif %}
</div>
{% endblock %}
